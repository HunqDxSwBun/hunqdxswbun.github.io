<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculate Total Money</title>
</head>
<body>
    <h1>Calculate Total Money</h1>
    <label for="cash">Tiền mặt:</label>
    <input type="number" id="cash" placeholder="Nhập số tiền mặt"><br>
    <label for="card">Tiền thẻ:</label>
    <input type="number" id="card" placeholder="Nhập số tiền thẻ"><br>
    <button onclick="calculateTotal()">Nhập</button><br>
    <p id="TotalMoney">Tổng tiền: 0</p>

    <script>
        // Đảm bảo gọi hàm này khi trang đã tải xong
        document.addEventListener('DOMContentLoaded', function() {
            // Lấy giá trị tổng tiền từ localStorage (nếu tồn tại), nếu không thì mặc định là 0
            let totalValue = parseInt(localStorage.getItem('totalMoney')) || 0;

            // Hiển thị giá trị tổng tiền trong phần tử TotalMoney
            const TotalMoney = document.getElementById('TotalMoney');
            TotalMoney.innerText = formatMoney(totalValue);
        });

        function calculateTotal() {
            const cashValue = document.getElementById('cash').value;
            const cardValue = document.getElementById('card').value;
            const TotalMoney = document.getElementById('TotalMoney');

            // Lấy giá trị tổng tiền từ localStorage (nếu tồn tại), nếu không thì mặc định là 0
            let totalValue = parseInt(localStorage.getItem('totalMoney')) || 0;

            // Kiểm tra nếu người dùng không nhập giá trị thì mặc định là 0
            const cashAmount = parseInt(cashValue) || 0;
            const cardAmount = parseInt(cardValue) || 0;

            // Tính tổng giá trị mới từ người dùng
            totalValue = totalValue + cashAmount + cardAmount;

            // Lưu tổng tiền mới vào localStorage để giữ lại giá trị cho lần nhập tiếp theo
            localStorage.setItem('totalMoney', totalValue);

            TotalMoney.innerText = formatMoney(totalValue); // Thêm dấu phẩy mỗi 3 chữ số
        }

        // Hàm định dạng số với dấu phẩy mỗi 3 chữ số
        function formatMoney(number) {
            return number.toLocaleString();
        }
    </script>
</body>
</html>
